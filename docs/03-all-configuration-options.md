# ðŸ“– All configuration options

<!-- BEGIN CONFIG TABLE -->
| Name | Type | Description | |
| --- | --- | --- | --- |
| <a id="config-opt-server-hostname"></a>YAML: `server.hostname`<br>Env: `TFA_SERVER_HOSTNAME` | string | The hostname the application is reached at.<br>This is used for setting the "redirect_uri" field for OAuth2 callbacks.| **Required** |
| <a id="config-opt-server-port"></a>YAML: `server.port`<br>Env: `TFA_SERVER_PORT` | number | Port to bind to.| Default: _4181_ |
| <a id="config-opt-server-bind"></a>YAML: `server.bind`<br>Env: `TFA_SERVER_BIND` | string | Address/interface to bind to.| Default: _"0.0.0.0"_ |
| <a id="config-opt-server-basepath"></a>YAML: `server.basePath`<br>Env: `TFA_SERVER_BASEPATH` | string | Base path for all routes.<br>Set this if Traefik is forwarding requests to traefik-forward-auth for specific paths only.<br>Note: this does not apply to /api and /healthz routes|  |
| <a id="config-opt-server-tlspath"></a>YAML: `server.tlsPath`<br>Env: `TFA_SERVER_TLSPATH` | string | Path where to load TLS certificates from. Within the folder, the files must be named `tls-cert.pem` and `tls-key.pem` (and optionally `tls-ca.pem`).<br>The server watches for changes in this folder and automatically reloads the TLS certificates when they're updated.<br>If empty, certificates are loaded from the same folder where the loaded `config.yaml` is located.| Default: _Folder where the `config.yaml` file is located_ |
| <a id="config-opt-server-tlscertpem"></a>YAML: `server.tlsCertPEM`<br>Env: `TFA_SERVER_TLSCERTPEM` | string | Full, PEM-encoded TLS certificate.<br>Using `server.tlsCertPEM` and `server.tlsKeyPEM` is an alternative method of passing TLS certificates than using `server.tlsPath`.|  |
| <a id="config-opt-server-tlskeypem"></a>YAML: `server.tlsKeyPEM`<br>Env: `TFA_SERVER_TLSKEYPEM` | string | Full, PEM-encoded TLS key.<br>Using `server.tlsCertPEM` and `server.tlsKeyPEM` is an alternative method of passing TLS certificates than using `server.tlsPath`.|  |
| <a id="config-opt-server-tlscapem"></a>YAML: `server.tlsCAPEM`<br>Env: `TFA_SERVER_TLSCAPEM` | string | Full, PEM-encoded TLS CA certificate, used for TLS client authentication (mTLS).<br>This is an alternative method of passing the CA certificate than using `tlsPath`.<br>Note that this is ignored unless `server.tlsClientAuth` is set to `true`.|  |
| <a id="config-opt-server-tlsclientauth"></a>YAML: `server.tlsClientAuth`<br>Env: `TFA_SERVER_TLSCLIENTAUTH` | boolean | If true, enables mTLS for client authentication.<br>Requests to the root endpoint (normally used by Traefik) must have a valid client certificate signed by the CA.| Default: _false_ |
| <a id="config-opt-server-trustedrequestidheader"></a>YAML: `server.trustedRequestIdHeader`<br>Env: `TFA_SERVER_TRUSTEDREQUESTIDHEADER` | string | String with the name of a header to trust as ID of each request. The ID is included in logs and in responses as `X-Request-ID` header.<br>Common values include:<br><br>- `X-Request-ID`: a [de-facto standard](https://http.dev/x-request-id) that's vendor agnostic<br>- `CF-Ray`: when the application is served by a [Cloudflare CDN](https://developers.cloudflare.com/fundamentals/get-started/reference/cloudflare-ray-id/)<br><br>If this option is empty, or if it contains the name of a header that is not found in an incoming request, a random UUID is generated as request ID.|  |
| <a id="config-opt-cookies-domain"></a>YAML: `cookies.domain`<br>Env: `TFA_COOKIES_DOMAIN` | string | Domain name for setting cookies.<br>If empty, this is set to the value of the `hostname` property.<br>This value must either be the same as the `hostname` property, or the hostname must be a sub-domain of the cookie domain name.| Recommended |
| <a id="config-opt-cookies-nameprefix"></a>YAML: `cookies.namePrefix`<br>Env: `TFA_COOKIES_NAME` | string | Prefix for the cookies used to store the sessions.| Default: _"tf_sess"_ |
| <a id="config-opt-cookies-insecure"></a>YAML: `cookies.insecure`<br>Env: `TFA_COOKIES_INSECURE` | boolean | If true, sets cookies as "insecure", which are served on HTTP endpoints too.<br>By default, this is false and cookies are sent on HTTPS endpoints only.| Default: _false_ |
| <a id="config-opt-tokens-sessionlifetime"></a>YAML: `tokens.sessionLifetime`<br>Env: `TFA_TOKENS_SESSIONLIFETIME` | duration | Lifetime for sessions after a successful authentication.| Default: _2h_ |
| <a id="config-opt-tokens-signingkey"></a>YAML: `tokens.signingKey`<br>Env: `TFA_TOKENS_SIGNINGKEY` | string | String used as key to sign state tokens.<br>Can be generated for example with `openssl rand -base64 32`<br>If left empty, it will be randomly generated every time the app starts (recommended, unless you need user sessions to persist after the application is restarted).|  |
| <a id="config-opt-logs-level"></a>YAML: `logs.level`<br>Env: `TFA_LOGS_LEVEL` | string | Controls log level and verbosity. Supported values: `debug`, `info` (default), `warn`, `error`.| Default: _"info"_ |
| <a id="config-opt-logs-omithealthchecks"></a>YAML: `logs.omitHealthChecks`<br>Env: `TFA_LOGS_OMITHEALTHCHECKS` | boolean | If true, calls to the healthcheck endpoint (`/healthz`) are not included in the logs.| Default: _true_ |
| <a id="config-opt-logs-json"></a>YAML: `logs.json`<br>Env: `TFA_LOGS_JSON` | boolean | If true, emits logs formatted as JSON, otherwise uses a text-based structured log format.| Default: _false if a TTY is attached (e.g. in development); true otherwise._ |
| <a id="config-opt-logs-otelcollectorendpoint"></a>YAML: `logs.otelCollectorEndpoint`<br>Env: `TFA_LOGS_OTELCOLLECTORENDPOINT` | string | OpenTelemetry Collector endpoint for sending logs, for example: `<http(s)>://<otel-collector-address>:<otel-collector-port>/v1/logs`.<br>If configured,logs are sent to the collector at the given address.<br>This value can also be set using the environmental variables `OTEL_EXPORTER_OTLP_LOGS_ENDPOINT` or `OTEL_EXPORTER_OTLP_ENDPOINT` ("/v1/logs" is appended for HTTP), and optionally `OTEL_EXPORTER_OTLP_PROTOCOL` ("http/protobuf", the default, or "grpc").|  |
| <a id="config-opt-metrics-serverenabled"></a>YAML: `metrics.serverEnabled`<br>Env: `TFA_METRICS_SERVERENABLED` | boolean | Enable the metrics server, which exposes a Prometheus-compatible endpoint `/metrics`.| Default: _false_ |
| <a id="config-opt-metrics-serverport"></a>YAML: `metrics.serverPort`<br>Env: `TFA_METRICS_SERVERPORT` | number | Port for the metrics server to bind to.| Default: _2112_ |
| <a id="config-opt-metrics-serverbind"></a>YAML: `metrics.serverBind`<br>Env: `TFA_METRICS_SERVERBIND` | string | Address/interface for the metrics server to bind to.| Default: _"0.0.0.0"_ |
| <a id="config-opt-metrics-otelcollectorendpoint"></a>YAML: `metrics.otelCollectorEndpoint`<br>Env: `TFA_METRICS_OTELCOLLECTORENDPOINT` | string | OpenTelemetry Collector endpoint for sending metrics, for example: `<http(s)-or-grpc(s)>://<otel-collector-address>:<otel-collector-port>/v1/metrics`<br>If metrics are enabled and `metricsOtelCollectorEndpoint` is set, metrics are sent to the collector<br>This value can also be set using the environmental variables `OTEL_EXPORTER_OTLP_METRICS_ENDPOINT` or `OTEL_EXPORTER_OTLP_ENDPOINT` ("/v1/metrics" is appended for HTTP), and optionally `OTEL_EXPORTER_OTLP_PROTOCOL` ("http/protobuf", the default, or "grpc")|  |
| <a id="config-opt-tracing-sampling"></a>YAML: `tracing.sampling`<br>Env: `TFA_TRACING_SAMPLING` | float | Sampling rate for traces, as a float.<br>The default value is 1, sampling all requests.| Default: _1_ |
| <a id="config-opt-tracing-otelcollectorendpoint"></a>YAML: `tracing.otelCollectorEndpoint`<br>Env: `TFA_TRACING_OTELCOLLECTORENDPOINT` | string | OpenTelemetry Collector endpoint for sending traces, for example: `<http(s)-or-grpc(s)>://<otel-collector-address>:<otel-collector-port>/v1/traces`.<br>If `tracingOtelCollectorEndpoint` is set, tracing is enabled and sent to the collector.<br>This value can also be set using the environmental variables `OTEL_EXPORTER_OTLP_TRACES_ENDPOINT` or `OTEL_EXPORTER_OTLP_ENDPOINT` ("/v1/traces" is appended for HTTP), and optionally `OTEL_EXPORTER_OTLP_PROTOCOL` ("http/protobuf", the default, or "grpc").|  |
| <a id="config-opt-portals"></a>YAML: `portals`<br>Env: - | list | List of portals|  |

<!-- END CONFIG TABLE -->
