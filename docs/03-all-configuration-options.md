# ðŸ“– All configuration options

<!-- BEGIN CONFIG TABLE -->
| Name | Type | Description | |
| --- | --- | --- | --- |
| <a id="config-opt-hostname"></a>YAML: `hostname`<br>Env: `TFA_HOSTNAME` | string | The hostname the application is reached at.<br>This is used for setting the "redirect_uri" field for OAuth2 callbacks.| **Required** |
| <a id="config-opt-cookiedomain"></a>YAML: `cookieDomain`<br>Env: `TFA_COOKIEDOMAIN` | string | Domain name for setting cookies.<br>If empty, this is set to the value of the `hostname` property.<br>This value must either be the same as the `hostname` property, or the hostname must be a sub-domain of the cookie domain name.| Recommended |
| <a id="config-opt-cookiename"></a>YAML: `cookieName`<br>Env: `TFA_COOKIENAME` | string | Name of the cookie used to store the session.| Default: _"tf_sess"_ |
| <a id="config-opt-cookieinsecure"></a>YAML: `cookieInsecure`<br>Env: `TFA_COOKIEINSECURE` | boolean | If true, sets cookies as "insecure", which are served on HTTP endpoints too.<br>By default, this is false and cookies are sent on HTTPS endpoints only.| Default: _false_ |
| <a id="config-opt-sessionlifetime"></a>YAML: `sessionLifetime`<br>Env: `TFA_SESSIONLIFETIME` | duration | Lifetime for sessions after a successful authentication.| Default: _2h_ |
| <a id="config-opt-port"></a>YAML: `port`<br>Env: `TFA_PORT` | number | Port to bind to.| Default: _4181_ |
| <a id="config-opt-bind"></a>YAML: `bind`<br>Env: `TFA_BIND` | string | Address/interface to bind to.| Default: _"0.0.0.0"_ |
| <a id="config-opt-basepath"></a>YAML: `basePath`<br>Env: `TFA_BASEPATH` | string | Base path for all routes.<br>Set this if Traefik is forwarding requests to traefik-forward-auth for specific paths only.<br>Note: this does not apply to /api and /healthz routes|  |
| <a id="config-opt-loglevel"></a>YAML: `logLevel`<br>Env: `TFA_LOGLEVEL` | string | Controls log level and verbosity. Supported values: `debug`, `info` (default), `warn`, `error`.| Default: _info_ |
| <a id="config-opt-omithealthchecklogs"></a>YAML: `omitHealthCheckLogs`<br>Env: `TFA_OMITHEALTHCHECKLOGS` | boolean | If true, calls to the healthcheck endpoint (`/healthz`) are not included in the logs.| Default: _true_ |
| <a id="config-opt-logasjson"></a>YAML: `logAsJson`<br>Env: `TFA_LOGASJSON` | boolean | If true, emits logs formatted as JSON, otherwise uses a text-based structured log format.| Default: _false if a TTY is attached (e.g. in development); true otherwise._ |
| <a id="config-opt-logsotelcollectorendpoint"></a>YAML: `logsOtelCollectorEndpoint`<br>Env: `TFA_LOGSOTELCOLLECTORENDPOINT` | string | OpenTelemetry Collector endpoint for sending logs, for example: `<http(s)>://<otel-collector-address>:<otel-collector-port>/v1/logs`.<br>If configured,logs are sent to the collector at the given address.<br>This value can also be set using the environmental variables `OTEL_EXPORTER_OTLP_LOGS_ENDPOINT` or `OTEL_EXPORTER_OTLP_ENDPOINT` ("/v1/logs" is appended for HTTP), and optionally `OTEL_EXPORTER_OTLP_PROTOCOL` ("http/protobuf", the default, or "grpc").|  |
| <a id="config-opt-metricsserverenabled"></a>YAML: `metricsServerEnabled`<br>Env: `TFA_METRICSSERVERENABLED` | boolean | Enable the metrics server, which exposes a Prometheus-compatible endpoint `/metrics`.| Default: _false_ |
| <a id="config-opt-metricsserverport"></a>YAML: `metricsServerPort`<br>Env: `TFA_METRICSSERVERPORT` | number | Port for the metrics server to bind to.| Default: _2112_ |
| <a id="config-opt-metricsserverbind"></a>YAML: `metricsServerBind`<br>Env: `TFA_METRICSSERVERBIND` | string | Address/interface for the metrics server to bind to.| Default: _"0.0.0.0"_ |
| <a id="config-opt-metricsotelcollectorendpoint"></a>YAML: `metricsOtelCollectorEndpoint`<br>Env: `TFA_METRICSOTELCOLLECTORENDPOINT` | string | OpenTelemetry Collector endpoint for sending metrics, for example: `<http(s)-or-grpc(s)>://<otel-collector-address>:<otel-collector-port>/v1/metrics`<br>If metrics are enabled and `metricsOtelCollectorEndpoint` is set, metrics are sent to the collector<br>This value can also be set using the environmental variables `OTEL_EXPORTER_OTLP_METRICS_ENDPOINT` or `OTEL_EXPORTER_OTLP_ENDPOINT` ("/v1/metrics" is appended for HTTP), and optionally `OTEL_EXPORTER_OTLP_PROTOCOL` ("http/protobuf", the default, or "grpc")|  |
| <a id="config-opt-tokensigningkey"></a>YAML: `tokenSigningKey`<br>Env: `TFA_TOKENSIGNINGKEY` | string | String used as key to sign state tokens.<br>Can be generated for example with `openssl rand -base64 32`<br>If left empty, it will be randomly generated every time the app starts (recommended, unless you need user sessions to persist after the application is restarted).|  |
| <a id="config-opt-authprovider"></a>YAML: `authProvider`<br>Env: `TFA_AUTHPROVIDER` | string | Authentication provider to use<br>Currently supported providers:<br><br>- `github`<br>- `google`<br>- `microsoftentraid`<br>- `openidconnect`<br>- `tailscalewhois`| **Required** |
| <a id="config-opt-authgoogle_clientid"></a>YAML: `authGoogle_clientID`<br>Env: `TFA_AUTHGOOGLE_CLIENTID` | string | Client ID for the Google auth application<br>Ignored if `authProvider` is not `google`|  |
| <a id="config-opt-authgoogle_clientsecret"></a>YAML: `authGoogle_clientSecret`<br>Env: `TFA_AUTHGOOGLE_CLIENTSECRET` | string | Client secret for the Google auth application<br>Ignored if `authProvider` is not `google`|  |
| <a id="config-opt-authgoogle_allowedusers"></a>YAML: `authGoogle_allowedUsers`<br>Env: `TFA_AUTHGOOGLE_ALLOWEDUSERS` | list of strings | List of allowed users for Google auth<br>This is a list of user IDs<br>Ignored if `authProvider` is not `google`|  |
| <a id="config-opt-authgoogle_allowedemails"></a>YAML: `authGoogle_allowedEmails`<br>Env: `TFA_AUTHGOOGLE_ALLOWEDEMAILS` | list of strings | List of allowed email addresses of users for Google auth<br>This is a list of email addresses<br>Ignored if `authProvider` is not `google`|  |
| <a id="config-opt-authgoogle_alloweddomains"></a>YAML: `authGoogle_allowedDomains`<br>Env: `TFA_AUTHGOOGLE_ALLOWEDDOMAINS` | list of strings | List of allowed domains for Google auth<br>This is a list of domains for email addresses<br>Ignored if `authProvider` is not `google`|  |
| <a id="config-opt-authgoogle_requesttimeout"></a>YAML: `authGoogle_requestTimeout`<br>Env: `TFA_AUTHGOOGLE_REQUESTTIMEOUT` | duration | Timeout for network requests for Google auth<br>Ignored if `authProvider` is not `google`| Default: _10s_ |
| <a id="config-opt-authgithub_clientid"></a>YAML: `authGitHub_clientID`<br>Env: `TFA_AUTHGITHUB_CLIENTID` | string | Client ID for the GitHub auth application<br>Ignored if `authProvider` is not `github`|  |
| <a id="config-opt-authgithub_clientsecret"></a>YAML: `authGitHub_clientSecret`<br>Env: `TFA_AUTHGITHUB_CLIENTSECRET` | string | Client secret for the GitHub auth application<br>Ignored if `authProvider` is not `github`|  |
| <a id="config-opt-authgithub_allowedusers"></a>YAML: `authGitHub_allowedUsers`<br>Env: `TFA_AUTHGITHUB_ALLOWEDUSERS` | list of strings | List of allowed users for GitHub auth<br>This is a list of usernames<br>Ignored if `authProvider` is not `github`|  |
| <a id="config-opt-authgithub_requesttimeout"></a>YAML: `authGitHub_requestTimeout`<br>Env: `TFA_AUTHGITHUB_REQUESTTIMEOUT` | duration | Timeout for network requests for GitHub auth<br>Ignored if `authProvider` is not `github`| Default: _10s_ |
| <a id="config-opt-authmicrosoftentraid_tenantid"></a>YAML: `authMicrosoftEntraID_tenantID`<br>Env: `TFA_AUTHMICROSOFTENTRAID_TENANTID` | string | Tenant ID for the Microsoft Entra ID auth application<br>Ignored if `authProvider` is not `microsoftentraid`|  |
| <a id="config-opt-authmicrosoftentraid_clientid"></a>YAML: `authMicrosoftEntraID_clientID`<br>Env: `TFA_AUTHMICROSOFTENTRAID_CLIENTID` | string | Client ID for the Microsoft Entra ID auth application<br>Ignored if `authProvider` is not `microsoftentraid`|  |
| <a id="config-opt-authmicrosoftentraid_clientsecret"></a>YAML: `authMicrosoftEntraID_clientSecret`<br>Env: `TFA_AUTHMICROSOFTENTRAID_CLIENTSECRET` | string | Client secret for the Microsoft Entra ID auth application<br>Ignored if `authProvider` is not `microsoftentraid`|  |
| <a id="config-opt-authmicrosoftentraid_azurefederatedidentity"></a>YAML: `authMicrosoftEntraID_azureFederatedIdentity`<br>Env: `TFA_AUTHMICROSOFTENTRAID_AZUREFEDERATEDIDENTITY` | string | Enables the usage of Federated Identity Credentials to obtain assertions for confidential clients for Microsoft Entra ID applications.<br>This is an alternative to using client secrets, when the application is running in Azure in an environment that supports Managed Identity, or in an environment that supports Workload Identity Federation with Microsoft Entra ID.<br>Currently, these values are supported:<br><br>- `ManagedIdentity`: uses a system-assigned managed identity<br>- `ManagedIdentity=client-id`: uses a user-assigned managed identity with client id "client-id" (e.g. "ManagedIdentity=00000000-0000-0000-0000-000000000000")<br>- `WorkloadIdentity`: uses workload identity, e.g. for Kubernetes|  |
| <a id="config-opt-authmicrosoftentraid_allowedusers"></a>YAML: `authMicrosoftEntraID_allowedUsers`<br>Env: `TFA_AUTHMICROSOFTENTRAID_ALLOWEDUSERS` | list of strings | List of allowed users for Microsoft Entra ID auth<br>This is a list of user IDs<br>Ignored if `authProvider` is not `microsoftentraid`|  |
| <a id="config-opt-authmicrosoftentraid_allowedemails"></a>YAML: `authMicrosoftEntraID_allowedEmails`<br>Env: `TFA_AUTHMICROSOFTENTRAID_ALLOWEDEMAILS` | list of strings | List of allowed email addresses of users for Microsoft Entra ID auth<br>This is a list of email addresses<br>Ignored if `authProvider` is not `microsoftentraid`|  |
| <a id="config-opt-authmicrosoftentraid_requesttimeout"></a>YAML: `authMicrosoftEntraID_requestTimeout`<br>Env: `TFA_AUTHMICROSOFTENTRAID_REQUESTTIMEOUT` | duration | Timeout for network requests for Microsoft Entra ID auth<br>Ignored if `authProvider` is not `microsoftentraid`| Default: _10s_ |
| <a id="config-opt-authopenidconnect_clientid"></a>YAML: `authOpenIDConnect_clientID`<br>Env: `TFA_AUTHOPENIDCONNECT_CLIENTID` | string | Client ID for the OpenID Connect auth application<br>Ignored if `authProvider` is not `openidconnect`|  |
| <a id="config-opt-authopenidconnect_clientsecret"></a>YAML: `authOpenIDConnect_clientSecret`<br>Env: `TFA_AUTHOPENIDCONNECT_CLIENTSECRET` | string | Client secret for the OpenID Connect auth application<br>Ignored if `authProvider` is not `openidconnect`|  |
| <a id="config-opt-authopenidconnect_tokenissuer"></a>YAML: `authOpenIDConnect_tokenIssuer`<br>Env: `TFA_AUTHOPENIDCONNECT_TOKENISSUER` | string | OpenID Connect token issuer<br>The OpenID Connect configuration document will be fetched at `<token-issuer>/.well-known/openid-configuration`<br>Ignored if `authProvider` is not `openidconnect`|  |
| <a id="config-opt-authopenidconnect_allowedusers"></a>YAML: `authOpenIDConnect_allowedUsers`<br>Env: `TFA_AUTHOPENIDCONNECT_ALLOWEDUSERS` | list of strings | List of allowed users for OpenID Connect auth<br>This is a list of user IDs, as returned by the ID provider in the "sub" claim<br>Ignored if `authProvider` is not `openidconnect`|  |
| <a id="config-opt-authopenidconnect_allowedemails"></a>YAML: `authOpenIDConnect_allowedEmails`<br>Env: `TFA_AUTHOPENIDCONNECT_ALLOWEDEMAILS` | list of strings | List of allowed email addresses for users for OpenID Connect auth<br>This is a list of email addresses, as returned by the ID provider in the "email" claim<br>Ignored if `authProvider` is not `openidconnect`|  |
| <a id="config-opt-authopenidconnect_requesttimeout"></a>YAML: `authOpenIDConnect_requestTimeout`<br>Env: `TFA_AUTHOPENIDCONNECT_REQUESTTIMEOUT` | duration | Timeout for network requests for OpenID Connect auth<br>Ignored if `authProvider` is not `openidconnect`| Default: _10s_ |
| <a id="config-opt-authopenidconnect_enablepkce"></a>YAML: `authOpenIDConnect_enablePKCE`<br>Env: `TFA_AUTHOPENIDCONNECT_ENABLEPKCE` | boolean | If true, enables the use of PKCE during the code exchange.<br>Ignored if `authProvider` is not `openidconnect`| Default: _false_ |
| <a id="config-opt-authtailscalewhois_allowedtailnet"></a>YAML: `authTailscaleWhois_allowedTailnet`<br>Env: `TFA_AUTHTAILSCALEWHOIS_ALLOWEDTAILNET` | string | If non-empty, requires the Tailnet of the user to match this value<br>Ignored if `authProvider` is not `tailscalewhois`|  |
| <a id="config-opt-authtailscaleconnect_allowedusers"></a>YAML: `authTailscaleConnect_allowedUsers`<br>Env: `TFA_AUTHTAILSCALECONNECT_ALLOWEDUSERS` | list of strings | List of allowed users for Tailscale Whois auth<br>This is a list of user IDs as returned by the ID provider<br>Ignored if `authProvider` is not `tailscalewhois`|  |
| <a id="config-opt-authtailscalewhois_requesttimeout"></a>YAML: `authTailscaleWhois_requestTimeout`<br>Env: `TFA_AUTHTAILSCALEWHOIS_REQUESTTIMEOUT` | duration | Timeout for network requests for Tailscale Whois auth<br>Ignored if `authProvider` is not `tailscalewhois`| Default: _10s_ |
| <a id="config-opt-authenticationtimeout"></a>YAML: `authenticationTimeout`<br>Env: `TFA_AUTHENTICATIONTIMEOUT` | duration | Timeout for authenticating with the authentication provider.| Default: _5m_ |
| <a id="config-opt-tlspath"></a>YAML: `tlsPath`<br>Env: `TFA_TLSPATH` | string | Path where to load TLS certificates from. Within the folder, the files must be named `tls-cert.pem` and `tls-key.pem` (and optionally `tls-ca.pem`).<br>The server watches for changes in this folder and automatically reloads the TLS certificates when they're updated.<br>If empty, certificates are loaded from the same folder where the loaded `config.yaml` is located.| Default: _Folder where the `config.yaml` file is located_ |
| <a id="config-opt-tlscertpem"></a>YAML: `tlsCertPEM`<br>Env: `TFA_TLSCERTPEM` | string | Full, PEM-encoded TLS certificate.<br>Using `tlsCertPEM` and `tlsKeyPEM` is an alternative method of passing TLS certificates than using `tlsPath`.|  |
| <a id="config-opt-tlskeypem"></a>YAML: `tlsKeyPEM`<br>Env: `TFA_TLSKEYPEM` | string | Full, PEM-encoded TLS key.<br>Using `tlsCertPEM` and `tlsKeyPEM` is an alternative method of passing TLS certificates than using `tlsPath`.|  |
| <a id="config-opt-tlscapem"></a>YAML: `tlsCAPEM`<br>Env: `TFA_TLSCAPEM` | string | Full, PEM-encoded TLS CA certificate, used for TLS client authentication (mTLS).<br>This is an alternative method of passing the CA certificate than using `tlsPath`.<br>Note that this is ignored unless `tlsClientAuth` is set to `true`.|  |
| <a id="config-opt-tlsclientauth"></a>YAML: `tlsClientAuth`<br>Env: `TFA_TLSCLIENTAUTH` | boolean | If true, enables mTLS for client authentication.<br>Requests to the root endpoint (normally used by Traefik) must have a valid client certificate signed by the CA.| Default: _false_ |
| <a id="config-opt-trustedrequestidheader"></a>YAML: `trustedRequestIdHeader`<br>Env: `TFA_TRUSTEDREQUESTIDHEADER` | string | String with the name of a header to trust as ID of each request. The ID is included in logs and in responses as `X-Request-ID` header.<br>Common values include:<br><br>- `X-Request-ID`: a [de-facto standard](https://http.dev/x-request-id) that's vendor agnostic<br>- `CF-Ray`: when the application is served by a [Cloudflare CDN](https://developers.cloudflare.com/fundamentals/get-started/reference/cloudflare-ray-id/)<br><br>If this option is empty, or if it contains the name of a header that is not found in an incoming request, a random UUID is generated as request ID.|  |
| <a id="config-opt-tracingsampling"></a>YAML: `tracingSampling`<br>Env: `TFA_TRACINGSAMPLING` | float | Sampling rate for traces, as a float.<br>The default value is 1, sampling all requests.| Default: _1_ |
| <a id="config-opt-tracingotelcollectorendpoint"></a>YAML: `tracingOtelCollectorEndpoint`<br>Env: `TFA_TRACINGOTELCOLLECTORENDPOINT` | string | OpenTelemetry Collector endpoint for sending traces, for example: `<http(s)-or-grpc(s)>://<otel-collector-address>:<otel-collector-port>/v1/traces`.<br>If `tracingOtelCollectorEndpoint` is set, tracing is enabled and sent to the collector.<br>This value can also be set using the environmental variables `OTEL_EXPORTER_OTLP_TRACES_ENDPOINT` or `OTEL_EXPORTER_OTLP_ENDPOINT` ("/v1/traces" is appended for HTTP), and optionally `OTEL_EXPORTER_OTLP_PROTOCOL` ("http/protobuf", the default, or "grpc").|  |

<!-- END CONFIG TABLE -->
